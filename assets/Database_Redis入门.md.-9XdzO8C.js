import{_ as i,c as a,o as t,ag as e}from"./chunks/framework.BmLMQRXF.js";const g=JSON.parse('{"title":"Redis 入门","description":"","frontmatter":{},"headers":[],"relativePath":"Database/Redis入门.md","filePath":"Database/Redis入门.md"}'),l={name:"Database/Redis入门.md"};function h(n,s,p,d,k,o){return t(),a("div",null,s[0]||(s[0]=[e('<p>::: timeline 2023-05-24</p><ul><li><strong>do some thing1</strong></li><li>do some thing2</li></ul><h1 id="redis-入门" tabindex="-1">Redis 入门 <a class="header-anchor" href="#redis-入门" aria-label="Permalink to &quot;Redis 入门&quot;">​</a></h1><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>Redis（Remote Dictionary Server）是一个开源的、基于内存的数据结构存储系统，它可以用作数据库、缓存和消息中间件</p><p>支持多种数据结构，如 String、Hash、List、Set、Sorted Set 等</p><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><ol><li><p>MacOS</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis</span></span></code></pre></div></li><li><p>Ubuntu</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis-server</span></span></code></pre></div></li></ol><h2 id="启动" tabindex="-1">启动 <a class="header-anchor" href="#启动" aria-label="Permalink to &quot;启动&quot;">​</a></h2><ol><li><p>MacOS</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">redis-server</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 服务器</span></span></code></pre></div></li><li><p>Linux</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis-server</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 启动服务器</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis-server</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 开机自启动</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis-server</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 检查服务状态</span></span></code></pre></div></li></ol><h2 id="连接" tabindex="-1">连接 <a class="header-anchor" href="#连接" aria-label="Permalink to &quot;连接&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">redis-cli</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 客户端</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">redis-cli</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hostname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port</span></span></code></pre></div><h2 id="常用命令" tabindex="-1">常用命令 <a class="header-anchor" href="#常用命令" aria-label="Permalink to &quot;常用命令&quot;">​</a></h2><h5 id="_5-1-键-key-操作" tabindex="-1">5.1 键（Key）操作 <a class="header-anchor" href="#_5-1-键-key-操作" aria-label="Permalink to &quot;5.1 键（Key）操作&quot;">​</a></h5><ul><li><strong>查看所有键</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">KEYS</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span></span></code></pre></div><p>注意：在生产环境中，由于 <code>KEYS</code> 命令可能会阻塞 Redis 服务器，建议谨慎使用。可以使用 <code>SCAN</code> 命令进行渐进式遍历。</p><ul><li><strong>检查键是否存在</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EXISTS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key1</span></span></code></pre></div><p>若键存在返回 1，否则返回 0。</p><ul><li><strong>删除键</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DEL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key3</span></span></code></pre></div><p>可以同时删除多个键，如 <code>DEL key1 key2 key3</code>。</p><ul><li><strong>设置键的过期时间（单位：秒）</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EXPIRE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mykey</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #  表示将键 `mykey` 的过期时间设置为 60 秒。</span></span></code></pre></div><h5 id="_5-2-字符串-string-操作" tabindex="-1">5.2 字符串（String）操作 <a class="header-anchor" href="#_5-2-字符串-string-操作" aria-label="Permalink to &quot;5.2 字符串（String）操作&quot;">​</a></h5><ul><li><strong>设置字符串值</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;John&quot;</span></span></code></pre></div><ul><li>获取字符串值**</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span></span></code></pre></div><ul><li><strong>递增数值</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">INCR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key1</span></span></code></pre></div><p>如果键的值是一个整数，该命令会将其值加 1。如果键不存在，会先将其值初始化为 0 再进行递增。</p><ul><li><strong>递减数值</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DECR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key1</span></span></code></pre></div><p>与 <code>INCR</code> 相反，将键的值减 1。</p><h5 id="_5-3-哈希-hash-操作" tabindex="-1">5.3 哈希（Hash）操作 <a class="header-anchor" href="#_5-3-哈希-hash-操作" aria-label="Permalink to &quot;5.3 哈希（Hash）操作&quot;">​</a></h5><ul><li><strong>设置哈希字段值</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HSET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user:1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Alice&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> age</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 25</span></span></code></pre></div><p>例如，<code>HSET user:1 name &quot;Alice&quot; age 25</code>。</p><ul><li><strong>获取哈希字段值</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HGET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user:1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span></span></code></pre></div><ul><li><strong>获取哈希所有字段和值</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HGETALL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user:1</span></span></code></pre></div><h5 id="_5-4-列表-list-操作" tabindex="-1">5.4 列表（List）操作 <a class="header-anchor" href="#_5-4-列表-list-操作" aria-label="Permalink to &quot;5.4 列表（List）操作&quot;">​</a></h5><ul><li><strong>在列表头部插入元素</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">LPUSH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mylist</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;apple&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;banana&quot;</span></span></code></pre></div><ul><li><strong>在列表尾部插入元素</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RPUSH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mylist</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;apple&quot;</span></span></code></pre></div><ul><li><strong>获取列表指定范围的元素</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">LRANGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mylist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 会返回列表 `mylist` 中的所有元素。</span></span></code></pre></div><h5 id="_5-5-集合-set-操作" tabindex="-1">5.5 集合（Set）操作 <a class="header-anchor" href="#_5-5-集合-set-操作" aria-label="Permalink to &quot;5.5 集合（Set）操作&quot;">​</a></h5><ul><li><strong>向集合中添加元素</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SADD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;red&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;green&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;blue&quot;</span></span></code></pre></div><ul><li><strong>获取集合中的所有元素</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SMEMBERS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myset</span></span></code></pre></div><ul><li><strong>判断元素是否在集合中</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SISMEMBER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;red&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 若元素存在返回 1，否则返回 0。</span></span></code></pre></div><h5 id="_5-6-有序集合-sorted-set-操作" tabindex="-1">5.6 有序集合（Sorted Set）操作 <a class="header-anchor" href="#_5-6-有序集合-sorted-set-操作" aria-label="Permalink to &quot;5.6 有序集合（Sorted Set）操作&quot;">​</a></h5><ul><li><strong>向有序集合中添加元素</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ZADD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myzset</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;apple&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;banana&quot;</span></span></code></pre></div><ul><li><strong>获取有序集合指定排名范围的元素</strong></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ZRANGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myzset</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 会按分数从小到大返回有序集合 `myzset` 中的所有元素</span></span></code></pre></div><p>:::</p>',64)]))}const c=i(l,[["render",h]]);export{g as __pageData,c as default};
